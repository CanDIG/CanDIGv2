version: '3.7'

networks:
  bridge:
    external: true
  bridge-net:
    external: true
  ingress:
    external: true
  traefik-net:
    external: true
  agent-net:
    external: true

volumes:
  datasets-data:
    external: true
  minio-data:
    external: true
  minio-config:
    external: true
  mc-config:
    external: true
  toil-jobstore:
    external: true
  portainer-data:
    external: true
  prometheus-data:
    external: true
  consul-data:
    external: true
  grafana-data:
    external: true

x-default-logging:
  &default
  driver: json-file

x-fluentd-logging:
  &fluentd
  driver: "fluentd"
  options:
    tag: docker.{{.Name}}
    fluentd-async-connect: "true"

secrets:
  aws-credentials:
    external: true
  federation-peers:
    external: true
  federation-services:
    external: true
  metadata-app-secret:
    external: true
  metadata-db-user:
    external: true
  metadata-db-secret:
    external: true
  metadata-settings:
    external: true
  minio-access-key:
    external: true
  minio-secret-key:
    external: true
  portainer-user:
    external: true
  portainer-secret:
    external: true
  traefik-ssl-key:
    external: true
  traefik-ssl-crt:
    external: true
  wes-dependency-resolver:
    external: true
